http://shumeipai.net/thread-32049-1-1.html?_dsign=8ce788a0

第二节 树莓派智能小车系列教程 树老大出品 
树老大

此教程为VIP教程，须在论坛官方网店购物达到一定金额方能获得VIP（点此查看金额，在主产品树莓派介绍中可以看到）。
今天开始推出5节树莓派较高级别的智能小车教程，仅供小白用户使用，工程师，大牛级别的看过希望指导。这5节教程，将展示树莓派的基本小车制作，逐渐添加寻线寻迹传感器、超声波、舵机、声控等模块。

言归正传：
此教程为5节课中的第二节，互相串联，第一节点此查看。本节教程主要讲解寻线传感器和第一节教程的串联使用，简单。小车机器人会跟随线条行走，如果线条没有了，或者找不到了，那么小车将在左右45°范围内搜寻，如果还是没找到可识别的线条，则将自动停止。
一、教程开始：
1、5节课程所需要的材料外设：
1.1、树莓派及必备的相关配件，我们店里都有，不赘述。
1.2、寻线寻迹传感器模块，2个，（点此购买）
1.3、超声波传感器，1个，（点此购买）
1.4、9G舵机，1个，（点此购买）
1.5、MCP3008 DAC，1个，（点此购买）
1.6、L293D 电机驱动芯片，1个，（点此购买）
1.7、小车基本套件，1套，（点此购买）
1.8、电阻包，1个，（点此购买）
1.9、红外遥控三件套，1个，（点此购买）
1.10、杜邦线（母对母，公对公，母对公），至少各40根，宜多不宜少，（点此购买）；
1.11、面包板，1个，（点此购买）
1.12、模拟量输出，声音传感器模块，3个，（点此购买）
1.13、移动电源，1~2个，（点此购买）


二、寻线传感器的使用说明：

1、将两个寻线传感器模块并排固定在小车底盘上，如下图：
本帖隐藏的内容

    

提前说一下，这里我们只用电平信号输出接口，不使用模拟AO接口。
2、正确安装方式：
2.1、传感器距离地面最佳距离是1~1.5CM：
  

2.2、下图，不会检测到线条，小车也就不会行走：
  

2.3、下图虽然可行，但不会稳定，从寻线传感器LED灯可以看到，左侧的传感器左灯亮了，表示检测到了线条。而右侧的传感器全都亮了，表示没检测到线：
  

2.4、下图，这种状态，注意看指示灯，都表示检测到了线条，是最稳定的：
  

3、按照下图，接好线路，仔细看，是基于上一节课的：
两个传感器的DO接口一个接GPIO19，一个接GPIO6。
GND接树莓派GND，VCC接树莓派3v3.
  

4、新建文件，执行下命令：
sudo nano robot.py

5、下载下面的文件，将内容复制粘贴到ROBOT.PY文件，然后推出并保存：
http://www.shumeipai.net/resource.php?mod=view&rid=456

6、至此本节教程就完了。

7、当然，也可以测试一下，代码如下：
随便创建一个robotest.py
加入如下内容：
import RPi.GPIO as GPIO
import time
from robot import Robot

rob = Robot(17, 27, 23, 24, 19, 6)
rob.lineFollowModeOn()

然后，sudo python robotest.py
测试一下，祝你成功。
下一节将推出红外遥控。。。
